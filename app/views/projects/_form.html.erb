<%= form_for(@project, :remote => true) do |f| %>

    <% if @project.errors.any? %>
        <div class="alert alert-error">
          <% if @project.errors.count > 1 %>
              <h4><%= t('activerecord.errors.template.header.other_changes', :count => @project.errors.count) %></h4>
          <% else %>
              <h4><%= t('activerecord.errors.template.header.one_changes') %></h4>
          <% end %>
          <ul>
            <% @project.errors.full_messages.each do |msg| %>
                <li><strong><%= msg %></strong></li>
            <% end %>
          </ul>
        </div>
    <% end %>

    <div class="project_name_field">
      <%= f.label :name, t('project.name'), :class =>"project_name_label" %>
      <%= f.text_field :name, :placeholder => t('project.name') %>
    </div>

    <div class="project_client_field">
      <%= f.label :client, t('project.client'), :class =>"project_client_label" %>
      <%= f.select :client_id, @clients.map { |client| [client.name, client.id] },  {:class => "project_client_select"},
                   :prompt => true %>
    </div>


    <div class="project-description_field">
      <%= f.label :description, t('project.description'), :class => "project_description_label" %>
      <%= f.text_area :description, :class => "project_description_text" %>
    </div>

    <div class="project_end_date_field">
      <%= f.label :end_date %>
      <%= f.date_select :end_date %>
    </div>

    <!-- if the project is been edited then we show the finalized field -->
    <% unless @project.new_record? %>
        <div class="project_finalized_field">
          <label class="control-label checkbox-hand">
            <%= t('project.finalized') %>&nbsp;<%= f.check_box(:finalized) %>
          </label>
        </div>
    <% end %>

    <% if @project.new_record? %>
        <%= f.submit t('buttons.create'), :class => "btn" %>

    <% else %>
        <%= f.submit t('buttons.save_changes'), :class => "btn" %>
    <% end %>
    &nbsp
    <%= t('buttons.or') %>
    <button class="btn btn-link projects-link" type="button" data-url="<%= projects_path %>">
      <%= t('buttons.cancel') %>
    </button>
<% end %>
